(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/jyf-Parser/index"],{"2d89":function(t,e,n){"use strict";n.r(e);var i=n("6232"),r=n("f640");for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);n("a8ef");var a=n("2877"),l=Object(a["a"])(r["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"3f79":function(t,e,n){},6232:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},a8ef:function(t,e,n){"use strict";var i=n("3f79"),r=n.n(i);r.a},f11b:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=function(){return n.e("components/jyf-Parser/trees").then(n.bind(null,"0775"))},o=n("79a6").parseHtmlSync,a=(n("7cfa"),getApp()),l={name:"parser",data:function(){return{nodes:[],showAnimation:{}}},components:{trees:r},props:{html:{type:null,default:""},autocopy:{type:Boolean,default:!0},autopause:{type:Boolean,default:!0},autopreview:{type:Boolean,default:!0},autosetTitle:{type:Boolean,default:!0},cacheId:{type:String,default:null},domain:{type:String,default:null},imgMode:{type:String,default:"default"},lazyLoad:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},tagStyle:{type:Object,default:function(){return{}}},showWithAnimation:{type:Boolean,default:!1},animationDuration:{type:Number,default:400},useAnchor:{type:Boolean,default:!1}},mounted:function(){this.execHtml(this.html),this.videoContexts=[]},methods:{execHtml:function(e){var n={};if(this.showWithAnimation&&(n=t.createAnimation({duration:this.animationDuration,timingFunction:"ease"}).opacity(1).step().export()),e)if("string"==typeof e){var r;this.cacheId?(a.globalData=a.globalData||{},a.globalData[this.cacheId]?r=a.globalData[this.cacheId]:(r=o(e,this),a.globalData[this.cacheId]=r)):r=o(e,this),console.log(r),this.nodes=r.nodes,this.showAnimation=n,this.imgList=r.imgList,i&&(this.document=new i("nodes",r.nodes,this)),r.title&&this.autosetTitle&&t.setNavigationBarTitle({title:r.title}),this.$emit("parse",r),this.ready()}else if(e.constructor==Array)this.showAnimation=n,this.imgList=[],i&&(this.document=new i("html",e,this)),this.ready();else if("object"==typeof e){if(!e.nodes||e.nodes.constructor!=Array){if(e.name&&e.children&&e.attrs||"text"==e.type)return;return void this.$emit("error",{source:"parse",errMsg:"传入的nodes数组格式不正确！应该传入的类型是array，实际传入的类型是："+typeof e.nodes})}this.showAnimation=n,this.imgList=e.imgList||[],i&&(this.document=new i("html.nodes",e.nodes,this)),e.title&&this.autosetTitle&&t.setNavigationBarTitle({title:e.title}),this.ready()}else this.$emit("error",{source:"parse",errMsg:"错误的html类型："+typeof e});else this.nodes=[]},getContext:function(e){var n=this,i=!0,r=!1,o=void 0;try{for(var a,l=function(){var e=a.value,i=!1;if(!e.nodes)return{v:n.getContext(e.$children)};var r=!0,o=!1,l=void 0;try{for(var s,u=e.nodes[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;"img"!=c.name||i?"video"==c.name&&n.videoContexts.push({id:c.attrs.id,context:t.createVideoContext(c.attrs.id,e)}):(i=!0,n.lazyLoad&&t.createIntersectionObserver?(e._observer=t.createIntersectionObserver(e),e._observer.relativeToViewport({top:1e3,bottom:1e3}).observe(".img",function(t){e.imgLoad=!0,e._observer.disconnect(),e._observer=null})):e.imgLoad=!0)}}catch(f){o=!0,l=f}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}n.getContext(e.$children)},s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var u=l();if("object"===typeof u)return u.v}}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}},ready:function(){var e=this;this.$nextTick(function(){e.getContext(e.$children),t.createSelectorQuery().in(e).select(".contain").boundingClientRect(function(t){e.$emit("ready",t)}).exec()})},getText:function(){var t="",e=function e(n){if("text"==n.type)return t+=n.text;"p"!=n.name&&"div"!=n.name&&"br"!=n.name||"\n"==t[t.length-1]||(t+="\n");var i=!0,r=!1,o=void 0;try{for(var a,l=n.children[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var s=a.value;e(s)}}catch(u){r=!0,o=u}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}};if(!this.html)return"";var n=!0,i=!1,r=void 0;try{for(var o,a=(this.html.nodes||(this.html[0].name||this.html[0].type?this.html:this.nodes))[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;e(l)}}catch(s){i=!0,r=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t},navigateTo:function(e){var n=this;e.success=e.success||function(){return null},e.fail=e.fail||function(){return null};var i=function(i,r){var o=t.createSelectorQuery().in(r||n);o.select(i).boundingClientRect(),o.selectViewport().scrollOffset(),o.exec(function(n){if(!n||!n[0])return e.fail({errMsg:"Label Not Found"});t.pageScrollTo({scrollTop:n[1].scrollTop+n[0].top,success:e.success,fail:e.fail})})};e.id?i(".contain >>> #"+e.id):i(".contain")},getVideoContext:function(t){if(!t)return this.videoContexts;var e=!0,n=!1,i=void 0;try{for(var r,o=this.videoContexts[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.id==t)return a}}catch(l){n=!0,i=l}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}return null}},watch:{html:function(t){this.execHtml(t)}}};e.default=l}).call(this,n("543d")["default"])},f640:function(t,e,n){"use strict";n.r(e);var i=n("f11b"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/jyf-Parser/index-create-component',
    {
        'components/jyf-Parser/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("2d89"))
        })
    },
    [['components/jyf-Parser/index-create-component']]
]);
