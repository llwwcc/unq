(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myhome/order/order"],{3202:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("7516"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={data:function(){return o({targetIndex:0,tabbarIndex:0,headerPosition:"fixed",headerTop:"0px",typeText:{unpaid:"等待付款",back:"等待商家发货",unreceived:"商家已发货",received:"等待用户评价",completed:"交易已完成",refunds:"商品退货处理中",cancelled:"订单已取消"},orderType:["全部","待付款","待发货","待收货"],list:[],tepmPay:[]},"tabbarIndex",0)},onLoad:function(e){console.log("option: "+JSON.stringify(e));var t=parseInt(e.tbIndex)+1;this.tabbarIndex=t,this.loading()},onPageScroll:function(e){},methods:{loading:function(){var t=this,n=r.default.serverUrl;console.log(n),e.request({url:n+"/app/order/myOrder?status=1&userId=1",method:"POST",success:function(e){var n=e.data.data.data;t.list=n}})},showType:function(t){var n=this,a=r.default.serverUrl;this.targetIndex=t;var o=t+1;e.request({url:a+"/app/order/myOrder?status="+o+"&userId=1",method:"POST",success:function(e){var t=e.data.data.data;n.list=t}})},showLogistics:function(e){},remindDeliver:function(t){e.showToast({title:"已提醒商家发货"})},cancelOrder:function(t){var n=t.id,a=this,o=r.default.serverUrl;e.showModal({title:"取消订单",content:"确定取消此订单？",success:function(t){t.confirm?e.request({url:o+"/app/order/cancelOrder?id="+n,method:"POST",success:function(){a.loading()}}):t.cancel&&console.log("用户点击取消")}})},doCancelOrder:function(e){for(var t=this.orderList.length,n=0;n<t;n++){var r=this.orderList[n],a=r.length;if(a>0&&"unpaid"==r[0].type)for(var o=0;o<a;o++)if(this.orderList[n][o].ordersn==e){this.orderList[n][o].type="cancelled";break}}},toPayment:function(t){e.showLoading({title:"正在获取订单..."});var n=[];n.push(t),setTimeout(function(){e.setStorage({key:"paymentOrder",data:n,success:function(){e.hideLoading(),e.navigateTo({url:"./pay"})}})},500)}}};t.default=i}).call(this,n("543d")["default"])},"544a":function(e,t,n){},"7e51":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},"8b9d":function(e,t,n){"use strict";n.r(t);var r=n("3202"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t["default"]=a.a},"8e59":function(e,t,n){"use strict";(function(e){n("49a9"),n("921b");r(n("66fd"));var t=r(n("afce"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},afce:function(e,t,n){"use strict";n.r(t);var r=n("7e51"),a=n("8b9d");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("d1d3");var i=n("2877"),u=Object(i["a"])(a["default"],r["a"],r["b"],!1,null,null,null);t["default"]=u.exports},d1d3:function(e,t,n){"use strict";var r=n("544a"),a=n.n(r);a.a}},[["8e59","common/runtime","common/vendor"]]]);